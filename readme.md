# 스프링 핵심 원리 강의 수강

[해당 강의](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8)
를 보고 학습한 내용입니다.

- 클래스 다이어그램은 정적이고 객체 다이어그램은 동적임
    - new 해야 들어감
    - 실행 중에 객체 간의 관계가 결정됨
- alt + insert
- ctrl + alt + v
- ctrl + shift + enter 하면 자동으로 끝에 ; 붙여줌
- 필드에 new로 박으면 구현체에도 의존하는 것임
    - `private final MemberResository = new MemoryMemberRepository()`
    - dip 위반
        - 구체적인 것이 추상적인 것에 의존하게 하라.
- 역할과 구현의 분리
    - 주문과 할인정책
    - 정책만 바꾸면 됨
- 구현체가 하나만 있으면 Impl을 많이 씀
- psvm
- sout


- 새로운 정책 개발
    - 계획에 따르기보단 변화에 대응하기를
- 생성자로 주입안하고 직접 필드로 만들면...
    - 로미오 배우가 직접 여자주인공을 섭외하는 것처럼 구체적인 객체를 가져옴
    - 배우는 배역에만 집중할 수 있어야 함
    - 어떤 여자주인공이 오더라도 똑같이 공연할 수 있어야 함.
- 생성자로 주입해주면 내부에선 뭐가 들어올 지 알 수 없다
- 들어오는 것은 Config에서 결정된다.
    - Config가 객체 생성 및 연결 책임 담당
- AppConfig 덕택에 사용 영역과 구성 영역의 코드가 완전히 분리됨
    - 배우의 교체는 AppConfig 파일에서만.

- SRP DIP OCP
    - 클라이언트 객체는 직접 구현 객체를 생성, 연결 실행하는 다양한 책임을 가지고 있었음
    - SRP를 지키며 관심사 분리
    - BY 생성자 주입 (필드는 추상화 의존 외부에서 의존성 주입)
    - 구현 객체를 생성하고 연결하는 책임 AppConfig
    - (OCP 클라이언트는 바뀌면 안됨)
    - 클라이언트는 실행 책임만 담당 (코드 변경 불필요)
- IOC, DI, 컨테이너
    - DI를 통해 정적 관계 변경 없이 실행 시 구현객체를 바꿀 수 있음
    - 구현을 손대는 것은 다른이야기. 클래스 간 관계
    - DI 컨테이너, 어셈블러, 오브젝트 팩토리

- 인터페이스 분리 원칙
    - BeanFactory
        - 빈을 관리, 조회하는 기능
    - ApplicationContext
        - 국제화
        - 환경변수
        - 애플리케이션 이벤트
        - 편리한 리소스 조회
- 스프링 빈 조회 - 상속관계 (의존관계 자동주입)
    - 부모 타입으로 조회하면 모든 자식 들을 조회한다.
    - 모든 자바 객체 최고 부모인 Object 조회하면 모든 Bean 조회

- 실제 애플리케이션에서 ApplicationContext 직접 쓸 일은 없음.
- BeanDefinition
    - 역할과 구현의 분리
    - 설정 메타정보 추상화
- 싱글톤 방식은 무상태로 설계해야 함
    - 특정 클라이언트에 의존적인 필드가 있으면 안됨
    - 가급적 읽기만 가능해야 함.
- 컴포넌트스캔
    - @ComponentScan
    - 등록할 구체 클래스드를 @Component 등록
    - @AutoWired ac.getBean()으로 등록하는 작업 수행.
    - 등록 충돌
        - 자동 vs 자동 (ConflictBeanDefinitionException)
        - 자동 vs 수동
        - 수동 vs 수동
    - 스프링 빈의 기본 이름은 맨앞글자 소문자 클래스명
- qualifier Annotation 재정의해서 쓰면 코드 깔끔함.
- 객체의 생성과 초기화를 분리하자.
    - 초기화는 생성값을 이용해 외부 커넥션을 연결하는 듯 무거운 동작을 수행한다.
    
- 빈 생명주기
     - @PostConstruct
     - @PreDestroy